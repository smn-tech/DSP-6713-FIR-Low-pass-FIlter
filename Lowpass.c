#include "DSK6713_AIC23.h"
Uint32 fs = DSK6713_AIC23_FREQ_8KHZ;
#define DSK6713_AIC23_INPUT_LINE 0x0011
Uint16 inputsource = DSK6713_AIC23_INPUT_LINE;
#define N 55
short dly[N];
float h[55] = {
                   -0.01120455566531,-2.291718862114e-17,  0.01220905658646,-1.876797643538e-17,
                              -0.01337967721769,6.880042387187e-17,  0.01476375917707,-1.905038903409e-17,
                              -0.01642858801334,1.917299738163e-17,  0.01847312508636, -1.9283036752e-17,
                              -0.02104912493643,1.938039526975e-17,  0.02440174559184,-1.946497392009e-17,
                              -0.02895446100871,1.953668666142e-17,  0.03550719007043,-1.959546052307e-17,
                              -0.04577407526614,1.964123568834e-17,  0.06421193014872,-1.967396556243e-17,
                               -0.1071624765434,1.969361682546e-17,   0.3217014280128,   0.5053694479546,
                                0.3217014280128,1.969361682546e-17,  -0.1071624765434,-1.967396556243e-17,
                               0.06421193014872,1.964123568834e-17, -0.04577407526614,-1.959546052307e-17,
                               0.03550719007043,1.953668666142e-17, -0.02895446100871,-1.946497392009e-17,
                               0.02440174559184,1.938039526975e-17, -0.02104912493643, -1.9283036752e-17,
                               0.01847312508636,1.917299738163e-17, -0.01642858801334,-1.905038903409e-17,
                               0.01476375917707,6.880042387187e-17, -0.01337967721769,-1.876797643538e-17,
                               0.01220905658646,-2.291718862114e-17, -0.01120455566531
                           };


interrupt void c_int11(){
int i, yn = 0; 
dly[0] = input_sample(); 
for (i = 0; i< N; i++)
yn +=(h[i]*dly[i]); //y(n)+= h(i)*x(n-i)
for (i = N-1; i > 0; i--) 
dly[i] = dly[i-1]; 
output_sample((short)yn); 
return; 
}
void main(){
short i;
comm_intr(); 
while(1); 
}
